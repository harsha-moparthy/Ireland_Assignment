# Weather Data Kafka Project

This project demonstrates a simple Kafka-based system for producing and consuming weather data. The system consists of a Kafka producer that simulates weather updates and a Kafka consumer that processes these updates and stores them in a CSV file. Additionally, a summary script is provided to analyze the consumed data.

## Prerequisites

- Python >=3.8 <3.12
- Kafka
- pandas
- kafka-python

## Setup

### Install Kafka

1. **Download Kafka**: Download the latest Kafka binary release from the [official website](https://kafka.apache.org/downloads).
2. 
2. **Install Kafka**: Follw the instructions in the [quickstart guide](https://www.fosstechnix.com/install-apache-kafka-and-zookeeper-ubuntu-24/).

3. **Create Kafka Topics**:
   ```sh
   bin/kafka-topics.sh --create --topic global_weather --bootstrap-server localhost:9092
   ```
   
4. **Start Zookeeper**:
   ```sh
   bin/zookeeper-server-start.sh config/zookeeper.properties
   ```

3. **Start Kafka Server**:
   ```sh
   bin/kafka-server-start.sh config/server.properties
   ```

### Install Python Dependencies

```sh
pip install pandas kafka-python
```

## Files Description

- `weather_producer.py`: Simulates weather data and sends it to the Kafka topic `global_weather`.
- `weather_consumer.py`: Consumes weather data from the Kafka topic `global_weather` and stores it in `weather_updates.csv`.
- `weather_summary.py`: Analyzes the consumed weather data and prints summary statistics.
- `weather.csv`: A cleaned dataset containing weather information used by the producer to simulate weather updates.

## Running the Project

### Step 1: Start Kafka Services

Ensure that the `weather.csv` file is present in the project directory after cleaning the data.
Ensure that both Zookeeper and Kafka server are running as described in the setup section. 
Ensure that the Kafka topic `global_weather` has been created.

### Step 2: Run the Producer

The producer will simulate weather updates and send them to the Kafka topic `global_weather`.

```sh
python weather_producer.py
```

### Step 3: Run the Consumer

The consumer will read the weather updates from the Kafka topic `global_weather` and store them in `weather_updates.csv`.

```sh
python weather_consumer.py
```

### Step 4: Run the Summary Script

The summary script will analyze the consumed weather data and print summary statistics.

```sh
python weather_summary.py
```

## Inputs

- `weather.csv`: This is a cleaned dataset containing weather information. It is used by the producer to simulate weather updates. Ensure this file is present in the project directory before running the producer.

## Notes

- The producer script runs for 60 seconds, sending one weather update per second.
- The consumer script continuously listens for new messages until manually stopped (e.g., via `Ctrl+C`).
- The summary script reads the `weather_updates.csv` file generated by the consumer and provides statistical insights.